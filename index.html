<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Calculadora Click It</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
/* ===================== BASE ===================== */
body{
  font-family: Arial, sans-serif;
  background:#0f0f0f;
  color:#274cc7;
  margin:0;
  padding:20px;
}

h1{
  text-align:center;
  margin-bottom:10px;
}

select, button{
  padding:8px 14px;
  border-radius:8px;
  border:none;
  font-size:14px;
}
/* ===================== TOP PANEL ===================== */
.top-panel{
  max-width: 460px;
  margin: 0 auto 18px;
  padding: 14px;
  border-radius: 18px;

  background: linear-gradient(180deg, #1a1a1a, #111);
  border: 2px solid rgba(233, 232, 225, 0.08);

  box-shadow:
    0 0 14px rgba(0,0,0,.8),
    inset 0 0 6px rgba(255,255,255,.05);
}
/* ===================== CONTROLES ===================== */
.controls{
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  margin-bottom:15px;
}
.controls select{
  background: linear-gradient(180deg, #1f1f1f, #121212);
  color:#5193c2;

  border:2px solid rgba(90, 22, 250, 0.411);
  border-radius:12px;

  box-shadow:
    inset 0 0 6px rgba(0, 0, 0, 0.397),
    0 0 6px rgba(247, 245, 245, 0.6);

  transition: all .25s ease;
  .controls select:hover{
  border-color:#64b5f6; 
}
.controls select:focus{
  outline:none;
  border-color:#c50505;

  box-shadow:
    0 0 8px rgba(2, 52, 94, 0.8),
    inset 0 0 4px rgba(255,255,255,.2);
}
.controls select:disabled{
  opacity:.6;
  cursor:not-allowed;
  filter: grayscale(.5);
}
}
/* ===================== POWER BAR ===================== */
.power-container{
  max-width:400px;
  margin:0 auto 15px;
  background:#757474;
  border-radius:14px;
  height:28px;
  position:relative;
  overflow:hidden;
  border:2px solid rgba(40, 77, 197, 0.08);
  box-shadow: inset 0 0 6px rgba(22, 11, 172, 0.8);

}
.power-bar{
  height:100%;
  width:0%;
  transition:width 1s cubic-bezier(.4,0,.2,1),
    background .6s ease;
}

.power-text{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  color:#fff;
  font-size:15px;
  letter-spacing:.5px;
  text-shadow:0 0 4px rgba(0,0,0,.8);
}
/* ===================== LAYOUT GENERAL===================== */
.main{
  display:flex;
  justify-content:center;
  gap:35px;
}

.columns{
  display:flex;
  gap:40px;
}

.column{
  display:flex;
  flex-direction:column;
  gap:20px;
}

/* ===================== REF BASE ===================== */
.user{  
  background:#03a5f0;
  padding:15px 10px;
  border-radius:10px;
  text-align:center;
  cursor:pointer;
  font-size:15px;
  line-height:1.5;
  border: 2px solid rgba(14, 4, 107, 0.514);
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.705);
  transition: all 0.25s ease;
}
.user.active{
  background:#02e70e;
  color:#424242;
  font-weight:bold;
  border: 2px solid #90caf9;
  box-shadow:
    0 0 6px rgba(4, 97, 4, 0.6),
    inset 0 0 4px rgba(12, 8, 8, 0.3);

  transform: scale(1.02);
}
.user.active{
  padding: 6px 8px;
  font-size: 18px;
  line-height: 1.2;
} 
.user small{
  display: block;
  font-size: 10px;
  margin-top: 5px;
  line-height: 1;
}
.ref-select{
  display:block;
  width:100%;
  margin-top:4px;
  padding:3px;
  font-size:15px;
  border-radius:10px;
}
/* ============================ REF RED ========================== */
.user.lider-ref{
  background: linear-gradient(135deg, #59296d, #4a148c);
  color:#fff;
  border:2px solid #ce93d8;
  box-shadow:0 0 6px rgba(206,147,216,.6);
  padding: 4px 6px !important;
  line-height: 1.2;
box-shadow:
    0 0 8px rgba(206,147,216,.8),
    inset 0 0 6px rgba(255,255,255,.15);

  transition: all 0.25s ease;
}
.user:hover{
  transform: translateY(-1px);
}

.user.active:hover,
.user.lider-ref:hover{
  filter: brightness(1.08);
}
.user.lider-ref:hover{
  filter: brightness(1.15);
}
.user.lider-ref select{
  display: block;
  margin-top: 4px;
  font-size: 11px;
}
.user.lider-ref small{
  font-size: 10px;
  margin-top: 2px;
}
/* ===================== BOT√ìN RED ===================== */
.lider-btn{
  background: linear-gradient(135deg, #852ac242, #730577);
  color:#d5dadd;

  border-radius:14px;
  padding:12px;

  font-weight:700;
  letter-spacing:.6px;

  border:2px solid rgba(255, 255, 255, 0.747);

  box-shadow:
    0 0 12px rgba(207, 129, 218, 0.5),
    inset 0 0 6px rgba(97, 13, 79, 0);

  cursor:pointer;
  transition: all .25s ease;
}
.lider-btn:hover{
  filter:brightness(1.15);
  transform: translateY(-1px);
  box-shadow:
    0 0 18px rgba(33,150,243,.8),
    inset 0 0 8px rgba(255,255,255,.15);
}
.lider-btn:active{
  transform: translateY(1px) scale(.98);
  box-shadow:
    inset 0 0 12px rgba(0,0,0,.8);
}
/* =============== PANEL DERECHO =============== */
.side-panel{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.info-title{
  font-size:13px;
  color:#4597c7;
  margin-bottom:4px;
}
.info-box div:nth-child(2){
  color:#a9e6c2;
  font-weight:bold;
  font-size:16px;
}
.info-box div:nth-child(3){
  color:#fff;
  font-weight:bold;
  font-size:14px;
}
.reset-btn{
  margin-top:0px;
  background:#812f2f;
  color:#fff;
  opacity:.85;
}
/* ===================== BOT√ìN RESET ===================== */
.reset-btn{
  background: linear-gradient(135deg, #b71c1c, #7f0000);
  color:#ddbcc1;

  border-radius:14px;
  padding:12px;

  font-weight:700;
  letter-spacing:.6px;

  border:2px solid rgba(233, 214, 214, 0.678);

  box-shadow:
    0 0 12px rgba(183,28,28,.5),
    inset 0 0 6px rgba(255,255,255,.08);

  cursor:pointer;
  transition: all .25s ease;
}
.reset-btn:hover{ 
  opacity:1; 
  .reset-btn:hover{
  filter:brightness(1.1);
  transform: translateY(-1px);
  box-shadow:
    0 0 20px rgba(244,67,54,.8),
    inset 0 0 8px rgba(202, 33, 33, 0.15);
}
.reset-btn:active{
  transform: translateY(1px) scale(.98);
  box-shadow:
    inset 0 0 14px rgba(230, 223, 223, 0.85);
    background: linear-gradient(135deg, #676e6a, #2e7d32);
  box-shadow:
    0 0 16px rgba(200, 0, 200, 0.281);
}
}
.lider-btn{
  background: #15425c;
  color: #e7f0ee;
  border-radius: 10px;
  padding: 10px;
  font-weight: bold;
  cursor: pointer;  
  opacity: 0.9;
}
/* ===============VOLUMEN BOX =============== */
.volume-box{
  background: linear-gradient(180deg, #1e1e1e, #111);
  padding:8px;
  border-radius:14px;
  text-align:center;

  border:1px solid rgba(255, 255, 255, 0.555);

  box-shadow:
    0 0 12px rgba(162, 229, 231, 0.8),
    inset 0 0 8px rgba(255,255,255,.05);

  position: relative;
  overflow: hidden;
}
.volume-box strong{
  font-size:12px;
  color:#b388ff;
  letter-spacing:.4px;
}
.volume-bar-container{
   width:100%;
  height:10px;
  background: rgba(255, 255, 255, 0.08);
  border-radius:8px;
  overflow:hidden;
  margin-top:8px;
  position: relative;
}
.volume-bar{
  height:100%;
  width:0%;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,.35),
    rgba(255,255,255,.05)
  );

  border-radius:8px;

  position: relative;
  overflow: hidden;

  transition: width 0.9s cubic-bezier(.22,1,.36,1);
}
.volume-bar{
  height:100%;
  width:0%;

  background: linear-gradient(
    180deg,
    rgba(35, 150, 165, 0.35),
    rgba(48, 224, 128, 0.911)
  );

  border-radius:8px;

  position: relative;
  overflow: hidden;

  transition: width 0.9s cubic-bezier(.22,1,.36,1);
}
@keyframes liquidMove{
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); }
}
/* =============== SELECT =============== */
select {
  max-width: 100%;
}

/* ===================== RESPONSIVE ===================== */
@media (max-width: 600px) {

  /* ===== LAYOUT GENERAL ===== */
  .main {
    flex-direction: row;        /* mantiene panel a la derecha */
    align-items: flex-start;
    justify-content: center;
    gap: 15px;
  }
  .columns {
    width: 80%;
    max-width: none;
  }
  .side-panel {
    width: 35%;
    max-width: none;
    align-self: flex-start;
  }
  /* ===== BOTONES (RED / RESET) ===== */
  .lider-btn,
  .reset-btn {
    width: 80%;
    display: block;
    min-height:44px; /* est√°ndar m√≥vil */
  touch-action: manipulation;
  }
  .lider-btn {
    margin-top: 10px;
  }
  .lider-btn:hover {
    opacity: 1;
  }
  .reset-btn {
    align-self: right;
    width: 70%;
    margin-left: -40px;
  }
  .action-buttons {
    margin-top: 30px; /* separaci√≥n del panel derecho */
  }
  /* ===== REFS RED (VISUAL) ===== */
  .user.active,
  .user.lider-ref {
    padding: 6px 8px;
    font-size: 14px;
    line-height: 1.2;
  }
  
  /* ===== SELECT DE MONTO EN REFS RED ===== */
  .user.lider-ref .ref-select {
    margin-top: 4px;
    padding: 3px;
    font-size: 12px;
  }
}

</style>
</head>

<body>

<h1>Calculadora Click It</h1>

<div class="top-panel">
<div class="power-container">
  <div id="powerBar" class="power-bar"></div>
  <div id="powerText" class="power-text">0%</div>
</div>

<div class="controls">
  <select id="inversion">
    <option value="">Inversi√≥n</option>
    <option value="50">$50</option>
    <option value="150">$150</option>
    <option value="250">$250</option>
    <option value="500">$500</option>
    <option value="1000">$1000</option>
    <option value="2500">$2500</option>
    <option value="5000">$5000</option>
    <option value="10000">$10000</option>
  </select>

  <select id="plazo"></select>

  <select id="binarioSelect" disabled>
    <option>Binario 0%</option>
  </select>
</div>

<div class="main">

  <div class="columns">

    <div class="column">
      <div id="left"></div>
      <div class="volume-box">
        <strong>Volumen Izq</strong>
        <div id="leftVolume">$0</div>
        <div class="volume-bar-container">
          <div id="leftVolumeBar" class="volume-bar"></div>
        </div>
      </div>
    </div>

    <div class="column">
      <div id="right"></div>
      <div class="volume-box">
        <strong>Volumen Der</strong>
        <div id="rightVolume">$0</div>
        <div class="volume-bar-container">
          <div id="rightVolumeBar" class="volume-bar"></div>
        </div>
      </div>
    </div>

  </div>

  <div class="side-panel">
    <div class="info-box">
      <div class="info-title">Click Diario</div>
      <div id="clickPct">0.00%</div>
      <div id="clickUsd">$0.00</div>
    </div>

    <div class="info-box">
      <div class="info-title">Bono Directo</div>
      <div id="directoPct">0.00%</div>
      <div id="directoUsd">$0.00</div>
    </div>

    <div class="info-box">
      <div class="info-title">Bono Binario</div>
      <div id="binarioPct">0.00%</div>
      <div id="binarioUsd">$0.00</div>
    </div>
    <div class="action-buttons">  </div>
    <button class="lider-btn" onclick="toggleRed()">Red</button>  
    <button class="reset-btn" onclick="resetAll()">Reset</button>
  </div>

</div>

<script>
  
const state={
  inversion:0,
  plazo:0,
  binario:0,
  binarioActivo:false,
  users:{left:[],right:[]}
  
};
// ========================== CONFIGURACI√ìN L√çDER =================================//
const MONTO_LIDER = 0; 
var liderActivo = false;

const powerBar=document.getElementById('powerBar');
const powerText=document.getElementById('powerText');
const inversion=document.getElementById('inversion');
const plazo=document.getElementById('plazo');
const binarioSelect=document.getElementById('binarioSelect');

// ========================== CONFIGURACION PLAZO =================================//
[0,5,12,22,44,66,88,110,154,198,232].forEach(d=>{
  const o=document.createElement('option');
  o.value=d;
  o.textContent=`Plazo ${d} d√≠as`;
  plazo.appendChild(o);
});
plazo.onchange=()=>{
  state.plazo=+plazo.value||0;
  recalc();
};
const refMontos=[50,150,250,500,1000,2500,5000,10000];

['left','right'].forEach(side=>{
  const col=document.getElementById(side);
  for(let i=0;i<5;i++){
    const d=document.createElement('div');
    d.className='user';
    d.textContent=`Ref. ${i+1}`;
    d.onclick=()=>toggleRef(side,i,d);
    col.appendChild(d);
  }
});
// ========================== INVERSION =================================//
inversion.onchange=()=>{
  state.inversion=+inversion.value||0;
  actualizarBinario();
};

// ========================== FUNCIONES =================================//
function actualizarBinario(){
  state.binario=
    [50,150].includes(state.inversion)?7:
    [250,500].includes(state.inversion)?8:
    [1000,2500].includes(state.inversion)?9:
    [5000,10000].includes(state.inversion)?10:0;
  binarioSelect.innerHTML=`<option>Binario ${state.binario}%</option>`;
  recalc();
}
function toggleRef(side,i,el){
   // ========================== REGLAS =================================//
if (
  el.classList.contains('active') &&
  !el.classList.contains('lider-ref')
) {
  const col = document.getElementById(side);

  for (let j = i; j < 5; j++) {
    state.users[side][j] = null;

    const refEl = col.children[j];
    refEl.classList.remove('active','lider-ref');
    refEl.innerHTML = `Ref. ${j+1}`;
  }

  recalc();
  return;
}
  if(el.querySelector('select')) return;
  if(i>0&&!state.users[side][i-1]) return;

  const sel=document.createElement('select');
  sel.className='ref-select';
  sel.innerHTML='<option value="">Monto</option>'+
    refMontos.map(m=>`<option value="${m}">$${m}</option>`).join('');
  sel.onmousedown=e=>e.stopPropagation();
  sel.onchange=()=>{
    state.users[side][i] = {
  monto: +sel.value,
  lider: false
};
    el.classList.add('active');
    el.innerHTML=`Ref. ${i+1}<br>$${sel.value}`;
    recalc();
  };
  el.appendChild(sel);
}
function activarLider(){

  if (liderActivo) return;
  liderActivo = true;

  const refs = document.querySelectorAll('#right .user');

  for(let i = 1; i < 5; i++){

    const el = refs[i];

    // estado inicial Red
    state.users.right[i] = {
      monto: MONTO_LIDER,
      lider: true
    };

    el.classList.add('active','lider-ref');

    // selector de monto
    const sel = document.createElement('select');
    sel.className = 'ref-select';
    sel.innerHTML =
      '<option value="">Monto</option>' +
      refMontos.map(m => `<option value="${m}">$${m}</option>`).join('');

    sel.onmousedown = e => e.stopPropagation();

    sel.onchange = () => {
      state.users.right[i].monto = +sel.value;

      // üîë elimina el select y deja la caja compacta
      el.innerHTML =
        `Ref. ${i+1}<br>$${sel.value}`;

      recalc();
    };

    el.innerHTML = `Ref. ${i+1}`;
    el.appendChild(sel);
  }

  recalc(); 
}
function desactivarLider(){

  const refs = document.querySelectorAll('#right .user');

  for(let i = 1; i < 5; i++){

    const el = refs[i];

    // limpiar estado
    state.users.right[i] = null;

    // limpiar visual
    el.classList.remove('active','lider-ref');
    el.innerHTML = `Ref. ${i+1}`;
  }

  liderActivo = false;
  recalc();
}
function toggleRed(){
  if(liderActivo){
    desactivarLider();
  }else{
    activarLider();
  }
}
function recalc(){
  if(!state.binarioActivo&&state.users.left[0]&&state.users.right[0]){
    state.binarioActivo=true;
  }

  const l = state.users.left.reduce((a,ref)=>{
  if(!ref) return a;
  return a + (ref.monto ?? ref);
},0);
  const r = state.users.right.reduce((a,ref)=>{
  if(!ref) return a;
  return a + (ref.monto ?? ref);
},0);

  leftVolume.textContent='$'+l.toFixed(2);
  rightVolume.textContent='$'+r.toFixed(2);

  const max=Math.max(l,r,1);
  const lp=l/max*100;
  const rp=r/max*100;

  const color=p=>p>=90?'#d50000':p>=70?'#ff9100':p>=40?'#ffd600':'#00c853';

  leftVolumeBar.style.width=lp+'%';
  rightVolumeBar.style.width=rp+'%';
  leftVolumeBar.style.background=color(lp);
  rightVolumeBar.style.background=color(rp);

  const bonoDirecto = state.users.left
  .concat(state.users.right)
  .reduce((total, ref) => {
    if(!ref) return total;
    if(ref.lider) return total; // ‚ùå l√≠der no paga directo
    return total + ref.monto * 0.10;
  }, 0);
  const bonoBinario=state.binarioActivo?Math.min(l,r)*(state.binario/100):0;

  const pctDiario=state.plazo*0.86;
  const usdDiario=state.inversion*(pctDiario/100);

  clickPct.textContent=pctDiario.toFixed(2)+'%';
  clickUsd.textContent='$'+usdDiario.toFixed(2);
  directoPct.textContent=((bonoDirecto/state.inversion)*100||0).toFixed(2)+'%';
  directoUsd.textContent='$'+bonoDirecto.toFixed(2);
  binarioPct.textContent=((bonoBinario/state.inversion)*100||0).toFixed(2)+'%';
  binarioUsd.textContent='$'+bonoBinario.toFixed(2);

  const total=usdDiario+bonoDirecto+bonoBinario;
  const pct=(total/(state.inversion*2))*100||0;
  powerBar.style.width=Math.min(pct,100)+'%';
  powerText.textContent=pct.toFixed(2)+'% ($'+total.toFixed(2)+')';
  powerBar.style.background=color(pct);
}
function resetAll(){
  state.inversion=0;
  state.plazo=0;
  state.binario=0;
  state.binarioActivo=false;
  state.users={left:[],right:[]};
  inversion.value='';
  plazo.value=0;
  binarioSelect.innerHTML='<option>Binario 0%</option>';
  document.querySelectorAll('.user').forEach((u,i)=>{
    u.classList.remove('active','lider-ref');
    u.innerHTML = `Ref. ${i%5+1}`;
  });
const btn = document.querySelector('.lider-btn');
btn.textContent = 'Red';
btn.style.opacity = '1';
btn.style.cursor = 'pointer';

liderActivo = false;
document.querySelectorAll('.lider-ref')
  .forEach(el => el.classList.remove('lider-ref')); 
  recalc();
  
  
}
</script>

</body>

</html>


























